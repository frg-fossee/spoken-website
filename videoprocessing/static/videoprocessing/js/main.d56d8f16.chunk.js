(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{306:function(e,t,a){e.exports=a(585)},311:function(e,t,a){},312:function(e,t,a){},571:function(e,t,a){},577:function(e,t,a){},585:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(4),o=a.n(i),l=(a(311),a(40)),r=a(41),c=a(43),u=a(42),d=(a(312),a(187),a(95)),m=(a(196),a(103)),h=(a(159),a(119)),p=(a(198),a(39)),f=(a(160),a(79)),b=(a(269),a(64)),g=(a(270),a(154)),v=(a(50),a(10)),k=a(57),E=a.n(k),_=a(97),y=(a(200),a(117)),S=a(81),w=(a(201),a(63)),C=(a(157),a(37)),x=a(45),D=a.n(x),O=a(588),T=a(589),V=a(590),I=a(591),j=a(592),R=a(80),A=C.a.Option,L=w.a.Text,M=[{title:"FOSS",dataIndex:"foss",key:"foss",sorter:function(e,t){return e.foss.localeCompare(t.foss)},sortDirections:["descend","ascend"]},{title:"Tutorial Name",dataIndex:"tutorial",key:"tutorial",sorter:function(e,t){return e.tutorial.localeCompare(t.tutorial)},sortDirections:["descend","ascend"]},{title:"Language",dataIndex:"language",key:"language",sorter:function(e,t){return e.language.localeCompare(t.language)},sortDirections:["descend","ascend"]},{title:"Status",dataIndex:"submission_status",key:"submission_status",filters:[{text:"Submitted for Review",value:"submitted"},{text:"Draft",value:"draft"},{text:"Not Initialized",value:"not_initialized"},{text:"Accepted",value:"accepted"},{text:"Rejected",value:"rejected"}],onFilter:function(e,t){return t.submission_status.includes(e)},render:function(e){return"not_initialized"===e?s.a.createElement(L,{type:"secondary"},"Not Initialized"):"draft"===e?s.a.createElement(L,{style:{color:"#1890ff"}},"Draft"):"submitted"===e?s.a.createElement(L,{type:"warning"},"Submitted for Review"):"accepted"===e?s.a.createElement(L,{style:{color:"green"}},"Accepted"):"rejected"===e?s.a.createElement(L,{type:"danger"},"Rejected"):void 0}},{title:"Edit Video",dataIndex:"button",key:"button"}],U=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={tutorials:[],filteredTutorials:[],tutorialsInTable:[],searchFilteredTable:[],isLoading:!0,isTutDisabled:!0,fossDropdownOption:"All",tutorialDropdownOption:"All",searchBox:""},n.filterFosses=n.filterFosses.bind(Object(S.a)(n)),n.filterTutorials=n.filterTutorials.bind(Object(S.a)(n)),n.renderOptions=n.renderOptions.bind(Object(S.a)(n)),n.searchTable=n.searchTable.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n}return Object(r.a)(a,[{key:"handleSubmit",value:function(e,t){var a=this;console.log(e,t);var n=new FormData;n.append("tutorial_detail",e),n.append("language",t),D.a.post("".concat("/videoprocessing/api","/process_tutorials"),n).then((function(e){console.log(e.data),a.props.history.push({pathname:"/dashboard",search:"id=".concat(e.data.id)})})).catch((function(e){y.a.error({message:"Error Occurred",description:e.response?"Status: ".concat(e.response.status," \n ").concat(e.response.statusText):"Some Error Occurred",onClick:function(){console.log("Notification Clicked!")}})}))}},{key:"filterFosses",value:function(){var e=Object(_.a)(E.a.mark((function e(t,a){var n,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),"All"!==t){e.next=7;break}n=this.state.tutorials,console.log(n),this.setState({fossDropdownOption:"All",filteredTutorials:n,isTutDisabled:!0,tutorialsInTable:n,tutorialDropdownOption:"All"}),e.next=13;break;case 7:return s=this.state.tutorials,e.next=10,s.filter((function(e){return e.foss===t}));case 10:s=e.sent,console.log(s),this.setState({fossDropdownOption:t,filteredTutorials:s,isTutDisabled:!1,tutorialsInTable:s});case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterTutorials",value:function(){var e=Object(_.a)(E.a.mark((function e(t,a){var n,s,i=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("All"!==t){e.next=8;break}return n=this.state.filteredTutorials,e.next=4,n.filter((function(e){return e.foss===i.state.fossDropdownOption}));case 4:n=e.sent,this.setState({tutorialsInTable:n,tutorialDropdownOption:t}),e.next=14;break;case 8:return s=this.state.filteredTutorials,e.next=11,s.filter((function(e){return e.tutorial===t}));case 11:s=e.sent,console.log(s),this.setState({tutorialsInTable:s,tutorialDropdownOption:t});case 14:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"renderOptions",value:function(e){var t=new Set,a=[];return"foss"===e?this.state.tutorials.map((function(e){t.add(e.foss)})):this.state.filteredTutorials.map((function(e){t.add(e.tutorial)})),(t=Array.from(t)).map((function(e,t){a.push(s.a.createElement(A,{key:t,value:e},e))})),a}},{key:"searchTable",value:function(){var e=Object(_.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,n=this.state.tutorialsInTable,e.next=4,n.filter((function(e){var t=e.tutorial.toLowerCase().includes(a.toLowerCase()),n=e.foss.toLowerCase().includes(a.toLowerCase()),s=e.language.toLowerCase().includes(a.toLowerCase()),i=e.submission_status.toLowerCase().includes(a.toLowerCase());return t||s||n||i}));case 4:n=e.sent,this.setState({searchFilteredTable:n,searchBox:a});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t=[],a=new Set,n=new Set,i=new Set;D.a.get("".concat("/videoprocessing/api","/tutorials")).then((function(o){o.data.map((function(o){var l={};return l.key=o.tutorial_detail.id,l.foss=o.foss_category.name,l.tutorial=o.tutorial_detail.tutorial,l.language=o.language.name,l.isEdited=!1,l.tutorial_id=o.tutorial_detail.id,l.language_id=o.language.id,l.submission_status="not_initialized",l.button=s.a.createElement(g.a,{onConfirm:function(){return e.handleSubmit(o.tutorial_detail.id,o.language.id)},title:"Are you sure?",okText:"Yes",cancelText:"No"},s.a.createElement(v.a,{size:"large",icon:s.a.createElement(O.a,null)},"Edit Video")),t.push(l),a.add(l.foss),n.add(l.tutorial),i.add(l.language),t}))})).then((function(){D.a.get("".concat("/videoprocessing/api","/process_tutorials")).then((function(e){e.data.map((function(e){for(var a=0;a<t.length;a++)t[a].tutorial_id===e.tutorial_detail&&t[a].language_id===e.language&&(t[a].isEdited=!0,t[a].button=s.a.createElement(v.a,{size:"large",icon:s.a.createElement(T.a,null),href:"#/dashboard?id=".concat(e.id)},"Edit Video"),t[a].submission_status=e.submission_status)}))})).then((function(){e.setState({tutorials:t,isLoading:!1,filteredTutorials:t,tutorialsInTable:t})}))}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(b.a,null,s.a.createElement(b.a.Item,{href:"/"},s.a.createElement(V.a,null)),s.a.createElement(b.a.Item,null,s.a.createElement(I.a,null),s.a.createElement("span",null,"Video Processing"))),s.a.createElement(f.a,null),s.a.createElement(m.a,{xs:2,sm:4,md:6,lg:10,xl:10},s.a.createElement(p.a,{span:6,offset:1},s.a.createElement(L,{level:4},"FOSS \xa0 \xa0 \xa0"),s.a.createElement(C.a,{value:this.state.fossDropdownOption,size:"large",onChange:this.filterFosses,defaultValue:"All",style:{width:120}},s.a.createElement(A,{value:"All"},"All"),this.renderOptions("foss"))),s.a.createElement(p.a,{span:6},s.a.createElement(L,{level:3},"Tutorial  \xa0 \xa0 \xa0"),s.a.createElement(C.a,{value:this.state.tutorialDropdownOption,size:"large",disabled:this.state.isTutDisabled,style:{width:120},onChange:this.filterTutorials},s.a.createElement(A,{value:"All"},"All"),this.renderOptions("tutorials"))),s.a.createElement(p.a,{span:10},s.a.createElement(h.a,{allowClear:!0,size:"large",placeholder:"Search",prefix:s.a.createElement(j.a,null),onChange:this.searchTable})),s.a.createElement(p.a,{span:1})),s.a.createElement(f.a,{style:{backgroundColor:"white"}}),s.a.createElement(d.a,{loading:this.state.isLoading,dataSource:""!==this.state.searchBox?this.state.searchFilteredTable:this.state.tutorialsInTable,columns:M}))}}]),a}(s.a.Component),F=Object(R.f)(U),N=(a(233),a(101)),z=(a(234),a(116)),P=(a(520),a(120)),B=(a(522),a(302)),W=(a(195),a(149)),H=(a(524),a(301)),Y=(a(179),a(96)),J=(a(235),a(102)),Q=a(289),X=a.n(Q),$=a(290),q=a(291),G=(a(551),a(115)),K=a.n(G),Z=a(293),ee=a.n(Z),te=a(593),ae=a(594),ne=a(595),se=a(596),ie=a(597),oe=a(598),le=a(599),re=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(Y.a,{status:"warning",title:"Media Not Found",extra:s.a.createElement(v.a,{type:"primary",href:"#"},"Back Home")})}}]),a}(s.a.Component),ce=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(Y.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:s.a.createElement(v.a,{type:"primary",href:"#"},"Back Home")})}}]),a}(s.a.Component),ue=(a(571),a(572),a(298)),de=a(295),me=a.n(de),he=(a(577),J.a.TabPane),pe=C.a.Option,fe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggleSplitView=function(){n.setState({splitView:!n.state.splitView})},n.handleChangeCompare=function(e,t){var a=n.props.dataSource[e].subtitle;"old"===t?n.setState({oldValue:a,oldDropDownValue:"Version ".concat(n.props.dataSource.length-e)}):n.setState({newValue:a,newDropDownValue:"Version ".concat(n.props.dataSource.length-e)})},n.resetDropdown=function(){n.setState({oldValue:"",newValue:"",oldDropDownValue:"Select a date",newDropDownValue:"Select a date"})},n.state={splitView:!0,oldValue:"",newValue:"",oldDropDownValue:"Select a version",newDropDownValue:"Select a version"},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.revertModalVisible,n=t.revertHandleCancel,i=t.isLoading,o=t.dataSource,l=t.revertChunk,r=t.chunk_no,c=[{title:"Version",key:"index",render:function(t,a,n){return e.props.dataSource.length-n},sortDirections:["descend","ascend"]},{title:"Date",dataIndex:"history_date",key:"history_date",render:function(e){var t=new Date(e);return"".concat(t.toDateString()," ").concat(t.toTimeString().split(" ")[0])}},{title:"Subtitle",dataIndex:"subtitle",key:"subtitle"},{title:"Audio",dataIndex:"audio_chunk",key:"audio_chunk",render:function(e){return s.a.createElement(K.a,{src:"".concat("/media","/").concat(e),controls:!0,controlsList:"nodownload"})}},{title:"Revert",render:function(e,t,a){return s.a.createElement(g.a,{onConfirm:function(){return l(e.history_id,r)},title:"Are you sure?",okText:"Yes",cancelText:"No",disabled:0===a},s.a.createElement(v.a,{size:"middle",type:"primary",disabled:0===a},"Revert"))}}];return s.a.createElement(N.a,{className:"revertModal",footer:null,title:"Revisions",visible:a,onCancel:function(){n(),e.resetDropdown()},width:"60%"},s.a.createElement(J.a,{size:"large",type:"card"},s.a.createElement(he,{tab:"Revert",key:"1"},s.a.createElement(d.a,{loading:i,columns:c,dataSource:o})),s.a.createElement(he,{tab:"Compare",key:"2"},s.a.createElement(z.a,{style:{width:"88%"},size:"large",align:"baseline"},s.a.createElement(C.a,{value:this.state.oldDropDownValue,onChange:function(t){return e.handleChangeCompare(t,"old")},style:{width:240}},o.map((function(t,a){return s.a.createElement(pe,{key:t.history_id,value:a},"Version ".concat(e.props.dataSource.length-a))}))),"With",s.a.createElement(C.a,{value:this.state.newDropDownValue,onChange:function(t){return e.handleChangeCompare(t,"new")},style:{width:240}},o.map((function(t,a){return s.a.createElement(pe,{key:t.history_id,value:a},"Version ".concat(e.props.dataSource.length-a))})))),s.a.createElement(z.a,{style:{width:"12%"},align:"end"},"Split View",s.a.createElement(ue.a,{onChange:this.toggleSplitView,defaultChecked:!0})," "),s.a.createElement(f.a,null),s.a.createElement(me.a,{oldValue:this.state.oldValue,newValue:this.state.newValue,splitView:this.state.splitView}))))}}]),a}(s.a.Component),be=(a(583),a(300)),ge=a.n(be),ve=w.a.Title,ke=w.a.Text,Ee=J.a.TabPane,_e=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).ref=function(e){n.player=e},n.togglePlayButton=function(){n.state.playing?n.setState({playing:!1}):n.setState({playing:!0})},n.closeCommentModal=function(){n.setState({isCommentVisible:!1})},n.pauseVideo=function(e){var t=n.state.selected_chunk,a=t-1>=0?t-1:t,s=n.state.chunks[a].start_time.split(":"),i=60*+s[0]*60+60*+s[1]+ +s[2],o=n.state.total_count,l=60*+(s=(t+1<o?n.state.chunks[t+1].end_time:n.state.chunks[t].end_time).split(":"))[0]*60+60*+s[1]+ +s[2];if(t-1<0){var r=e.playedSeconds,c=60*+(s=n.state.chunks[t].end_time.split(":"))[0]*60+60*+s[1]+ +s[2],u=60*+(s=n.state.chunks[t+1].end_time.split(":"))[0]*60+60*+s[1]+ +s[2];r>0&&r<c&&n.setState({currentRunningChunk:t}),r>c&&r<u&&n.setState({currentRunningChunk:t+1})}else if(t+1>=o){var d=e.playedSeconds,m=n.state.chunks[t-1].end_time.split(":"),h=60*+m[0]*60+60*+m[1]+ +m[2],p=60*+(m=n.state.chunks[t].end_time.split(":"))[0]*60+60*+m[1]+ +m[2];d>0&&d<h&&n.setState({currentRunningChunk:t-1}),d>h&&d<p&&n.setState({currentRunningChunk:t})}else{var f=e.playedSeconds,b=n.state.chunks[t-1].end_time.split(":"),g=60*+b[0]*60+60*+b[1]+ +b[2],v=60*+(b=n.state.chunks[t].end_time.split(":"))[0]*60+60*+b[1]+ +b[2],k=60*+(b=n.state.chunks[t+1].end_time.split(":"))[0]*60+60*+b[1]+ +b[2];f>0&&f<g&&n.setState({currentRunningChunk:t-1}),f>g&&f<v&&n.setState({currentRunningChunk:t}),f>v&&f<k&&n.setState({currentRunningChunk:t+1})}Math.floor(e.playedSeconds)===l&&(n.setState({playing:!1}),n.player.seekTo(i,"seconds"))},n.startRecording=function(){n.setState({record:!0})},n.stopRecording=function(){n.setState({record:!1})},n.onSave=function(){var e=Object(_.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new File([t.blob],"record.webm");case 2:a=e.sent,n.setState({downloadURL:t.blobURL}),n.setState({audio_file:a,isUploadDisabled:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showComment=function(){n.setState({isCommentVisible:!0})},n.submitTutorial=function(){var e=new FormData;e.append("comment",n.state.comment_temp),D.a.post("".concat("/videoprocessing/api","/process_tutorials/").concat(n.state.id,"/submit"),e).then((function(){n.openNotificationWithIcon("Submitted","Tutorial Submitted Successfully","success")})).then((function(){n.setState({submission_status:"submitted"}),n.closeSubmitModal()})).catch((function(){n.openNotificationWithIcon("Error","Some Error Occurred","error")}))},n.closeSubmitModal=function(){n.setState({isSubmitVisible:!1})},n.showSubmitModal=function(){n.setState({isSubmitVisible:!0})},n.state={id:"",current_count:"",chunks:[],status:"loading",checksum:"",foss:"",tutorial_name:"",language:"",total_count:"",processed_video:"",processed:!1,progress_status:"",visible:!1,audio_file:"",uploading:!1,selected_chunk:0,selected_chunk_sub:"",playing:!1,revertModalVisible:!1,revisionData:[],revisionsTableLoading:!0,revertChunkSelected:"",subtitle:"",downloadURL:"",currentRunningChunk:null,isUploadDisabled:!0,remove:function(){},record:!1,submission_status:"",isCommentVisible:!1,isSubmitVisible:!1,comment_temp:"",comment:""},n.handleChange=function(e){var t=e.target.value;n.setState({selected_chunk_sub:t,isUploadDisabled:!1})},n.revertShowModal=function(e){n.setState({revertModalVisible:!0,revisionData:[],revertChunkSelected:e}),D.a.get("".concat("/videoprocessing/api","/process_tutorials/").concat(n.state.id,"/").concat(e)).then((function(e){n.setState({revisionData:e.data.history})})).then((function(){n.setState({revisionsTableLoading:!1})}))},n.openNotificationWithIcon=function(e,t,a){y.a[a]({message:e,description:t})},n.handleChangeStatus=function(e,t){e.meta;var a=e.file,s=e.remove;"rejected_file_type"!==t?n.setState({audio_file:a,remove:s,isUploadDisabled:!1}):n.openNotificationWithIcon("Unsupported File","You can only upload .mp3 files","warning")},n.handleUpload=function(){n.setState({uploading:!0,progress_status:"normal",status:"Uploading"});var e=n.state,t=e.audio_file,a=e.selected_chunk,s=e.selected_chunk_sub,i=new FormData;t&&i.append("audio_chunk",t),i.append("subtitle",s),D.a.put("".concat("/videoprocessing/api","/process_tutorials/").concat(n.state.id,"/").concat(a),i).then((function(){n.fetchData(),n.setState({uploading:!1})})).then((function(){return n.handleCancel()})).catch((function(e){n.setState({uploading:!1,status:"done"}),n.handleCancel(),n.openNotificationWithIcon("Duplicate File","You have already uploaded this audio, Simply revert back","warning")}))},n.columns=[{title:"Chunk No.",dataIndex:"chunk_no",key:"chunk_no",width:"5%"},{title:"Audio",dataIndex:"audio_chunk",key:"audio_chunk",width:"10%",render:function(e){return s.a.createElement(K.a,{src:e,controls:!0})}},{title:"Start Time",dataIndex:"start_time",key:"start_time",width:"10%"},{title:"End Time",dataIndex:"end_time",key:"end_time",width:"10%"},{title:"Subtitle",dataIndex:"subtitle",key:"subtitle",width:"55%",sorter:function(e,t){return e.subtitle.localeCompare(t.subtitle)},sortDirections:["descend","ascend"]},{title:"Change Audio/Subtitle",width:"10%",render:function(e){return s.a.createElement(v.a,{icon:s.a.createElement(te.a,null),onClick:function(){return n.changeAudioShowModal(e.chunk_no)},disabled:"done"!==n.state.status||"submitted"===n.state.submission_status||"accepted"===n.state.submission_status},"Change Audio / Subtitle")}},{title:"Revert",width:"10%",render:function(e){return s.a.createElement(v.a,{icon:s.a.createElement(ae.a,null),onClick:function(){return n.revertShowModal(e.chunk_no)},disabled:e.revisions<=1||"done"!==n.state.status||"submitted"===n.state.submission_status||"accepted"===n.state.submission_status},"Revert ")}}],n.changeAudioShowModal=function(e){n.state.remove();var t=n.state.chunks[e].subtitle,a=e-1>=0?e-1:e,s=n.state.chunks[a].start_time;setTimeout((function(e){var t=s.split(":"),a=60*+t[0]*60+60*+t[1]+ +t[2];n.player.seekTo(a,"seconds")}),500),n.setState({visible:!0,selected_chunk:e,selected_chunk_sub:t,isUploadDisabled:!0})},n.handleOk=function(e){n.setState({visible:!1})},n.revertHandleCancel=function(){n.setState({revertModalVisible:!1})},n.revertChunk=function(e,t){n.setState({uploading:!0,progress_status:"normal",status:"Reverting"}),D.a.put("".concat("/videoprocessing/api","/process_tutorials/").concat(n.state.id,"/").concat(t,"/revert/").concat(e)).then((function(){n.fetchData(),n.setState({uploading:!1})})).then((function(){return n.revertHandleCancel()}))},n.handleCancel=function(e){n.setState({playing:!1}),n.setState({audio_file:"",visible:!1})},n.fetchData=function(){n.setState({processed:!1}),n.apiLoop=setInterval((function(){D.a.get("".concat("/videoprocessing/api","/process_tutorials/").concat(n.state.id)).then((function(e){n.setState({current_count:e.data.chunks.length,chunks:e.data.chunks,total_count:e.data.video_data.total_chunks,tutorial_name:e.data.video_data.tutorial_name,language:e.data.video_data.language,foss:e.data.video_data.foss,status:e.data.video_data.status,checksum:e.data.video_data.checksum,submission_status:e.data.video_data.submission_status,comment:e.data.video_data.comment}),null===e.data.video_data.processed_video?n.setState({processed_video:e.data.video_data.video}):n.setState({processed_video:e.data.video_data.processed_video,subtitle:e.data.video_data.subtitle}),"done"!==e.data.video_data.status&&"error"!==e.data.video_data.status&&"media_not_found"!==e.data.video_data.status||(clearInterval(n.apiLoop),n.setState({processed:!0}))})).catch((function(e){y.a.error({message:"Error Occurred",description:e.response?"Status: ".concat(e.response.status," \n ").concat(e.response.statusText):"Some Error Occurred",onClick:function(){}}),n.setState({status:"not found",progress_status:"exception"}),clearInterval(n.apiLoop)}))}),2e3)},n}return Object(r.a)(a,[{key:"onData",value:function(e){}},{key:"onStop",value:function(e){}},{key:"componentWillMount",value:function(){var e=X.a.parse(this.props.location.search,{ignoreQueryPrefix:!0}).id;this.setState({id:e})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){clearInterval(this.apiLoop)}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.uploading;a.audio_file;"draft"===this.state.submission_status&&(e=s.a.createElement(ve,{level:4},"Draft")),"submitted"===this.state.submission_status?e=s.a.createElement(ve,{level:4,type:"warning"},"Submitted for Review"):"accepted"===this.state.submission_status?e=s.a.createElement(ve,{level:4,style:{color:"#52c41a"}},"Accepted"):"rejected"===this.state.submission_status&&(e=s.a.createElement(ve,{level:4,type:"danger"},"Rejected"));var i=this.state.status;return"loading"===i?s.a.createElement(Y.a,{icon:s.a.createElement(ne.a,null),title:"Fetching Files"}):"not found"===i?s.a.createElement(ce,null):"media_not_found"===i?s.a.createElement(re,null):s.a.createElement("div",null,s.a.createElement(b.a,null,s.a.createElement(b.a.Item,{href:"/"},s.a.createElement(V.a,null)),s.a.createElement(b.a.Item,{href:"#/"},s.a.createElement(I.a,null),s.a.createElement("span",null,"Video Processing")),s.a.createElement(b.a.Item,null,s.a.createElement("span",null,"Dashboard"))),s.a.createElement(m.a,{align:"middle"},s.a.createElement(p.a,{xs:2,sm:4,md:4,lg:4,xl:4,style:{display:"inline-flex",justifyContent:"center",alignItems:"center"}},s.a.createElement(H.a,{type:"circle",percent:parseInt(this.state.current_count/this.state.total_count*100),status:this.state.progress_status})),s.a.createElement(p.a,{xs:2,sm:4,md:4,lg:4,xl:4,style:{display:"inline-flex",justifyContent:"center",alignItems:"center"}},s.a.createElement(w.a,null,"done"===this.state.status?null:s.a.createElement(W.a,{size:"large"}),e,s.a.createElement(ve,null,s.a.createElement(v.a,{onClick:this.showSubmitModal,disabled:"submitted"===this.state.submission_status||"accepted"===this.state.submission_status,icon:s.a.createElement(se.a,null),type:"primary"},"Submit for Review"),s.a.createElement(v.a,{onClick:this.showComment,disabled:"submitted"===this.state.submission_status||"accepted"===this.state.submission_status,icon:s.a.createElement(ie.a,null)},"View Comment")))),s.a.createElement(p.a,{style:{display:"inline-flex",justifyContent:"center",alignItems:"center"},xs:2,sm:8,md:8,lg:8,xl:8},s.a.createElement(w.a,null,s.a.createElement(ve,{level:3},this.state.tutorial_name),s.a.createElement(ve,{level:4},this.state.foss))),s.a.createElement(p.a,{style:{display:"inline-flex",justifyContent:"center",alignItems:"center"},xs:2,sm:8,md:8,lg:8,xl:8},"done"===this.state.status?s.a.createElement(q.Player,{fluid:!1,preload:"auto",height:200,playsInline:!0,src:this.state.processed_video}):s.a.createElement(B.a.Input,{style:{height:"200px"},active:!0}))),s.a.createElement(m.a,null,s.a.createElement(d.a,{className:"data-table",dataSource:this.state.chunks,columns:this.columns})),s.a.createElement(N.a,{title:"Change Audio",visible:this.state.visible,onOk:this.handleOk,okButtonProps:{type:"primary",onClick:this.handleUpload,disabled:this.state.isUploadDisabled,loading:n,style:{marginTop:16}},okText:n?"Uploading":"Start Upload",onCancel:this.handleCancel,width:"60%"},s.a.createElement(m.a,{gutter:24},s.a.createElement(p.a,{span:6},s.a.createElement(P.a,{mode:"left"},this.state.selected_chunk-1>=0&&"done"===i?s.a.createElement(P.a.Item,{className:this.state.selected_chunk-1===this.state.currentRunningChunk&&this.state.playing?"selected-chunk":null,label:s.a.createElement("h4",null,"Previous Chunk")},this.state.chunks[this.state.selected_chunk-1].subtitle):null,"done"===i?s.a.createElement(P.a.Item,{className:this.state.selected_chunk===this.state.currentRunningChunk&&this.state.playing?"selected-chunk":null,label:s.a.createElement("h4",null,"Current Chunk")},this.state.selected_chunk_sub):null,this.state.selected_chunk+1<this.state.total_count&&"done"===i?s.a.createElement(P.a.Item,{className:this.state.selected_chunk+1===this.state.currentRunningChunk&&this.state.playing?"selected-chunk":null,label:s.a.createElement("h4",null,"Next Chunk")},this.state.chunks[this.state.selected_chunk+1].subtitle):null)),s.a.createElement(p.a,{span:8},s.a.createElement(ee.a,{preload:"auto",controls:!1,playing:this.state.playing,onProgress:this.pauseVideo,ref:this.ref,width:"100%",url:this.state.processed_video}),s.a.createElement("br",null),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(v.a,{size:"large",type:"primary",shape:"round",icon:this.state.playing?s.a.createElement(oe.a,null):s.a.createElement(le.a,null),onClick:this.togglePlayButton},this.state.playing?"Pause":"Play"))),s.a.createElement(p.a,{span:10},s.a.createElement(J.a,{size:"large",type:"card"},s.a.createElement(Ee,{tab:"Upload",key:"1"},s.a.createElement(ge.a,{initialFiles:[],canRemove:!1,className:"fileUploader",onChangeStatus:this.handleChangeStatus,accept:".mp3",multiple:!1,autoUpload:!1,maxFiles:1,inputContent:"Drag Audio or Click to Browse"})),s.a.createElement(Ee,{tab:"Record",key:"2"},s.a.createElement("div",null,s.a.createElement($.ReactMic,{record:this.state.record,className:"sound-wave",onStop:this.onStop,onData:this.onData,onSave:this.onSave,strokeColor:"#000000",backgroundColor:"white"}),s.a.createElement(z.a,null,s.a.createElement(v.a,{type:"primary",shape:"round",onClick:this.startRecording,disabled:!0===this.state.record}," Start "),s.a.createElement(v.a,{type:"primary",shape:"round",onClick:this.stopRecording,disabled:!1===this.state.record}," Stop "),s.a.createElement(v.a,{type:"primary",shape:"round",disabled:""===this.state.downloadURL,href:this.state.downloadURL,download:"recording.webm"},"Download")),this.state.downloadURL?s.a.createElement("div",null,s.a.createElement(f.a,null),s.a.createElement(K.a,{src:this.state.downloadURL,controls:!0})):null))),s.a.createElement(f.a,null),s.a.createElement(ke,null,"Subititle"),"done"===i?s.a.createElement(h.a.TextArea,{allowClear:!0,autoSize:!0,value:this.state.selected_chunk_sub,onChange:this.handleChange}):null))),s.a.createElement(fe,{revertModalVisible:this.state.revertModalVisible,revertHandleCancel:this.revertHandleCancel,dataSource:this.state.revisionData,isLoading:this.state.revisionsTableLoading,chunk_no:this.state.revertChunkSelected,revertChunk:this.revertChunk}),s.a.createElement(N.a,{title:"Comment from Reviewer",visible:this.state.isCommentVisible,onOk:this.closeCommentModal,onCancel:this.closeCommentModal},s.a.createElement(w.a.Paragraph,null,this.state.comment)),s.a.createElement(N.a,{width:"40vw",title:"Submit for Review",visible:this.state.isSubmitVisible,onOk:this.submitTutorial,onCancel:this.closeSubmitModal,okText:"Submit"},s.a.createElement(w.a.Text,null,"Message to Reviewer"),s.a.createElement(h.a.TextArea,{allowClear:!0,autoSize:{minRows:3,maxRows:4},rows:4,onChange:function(e){t.setState({comment_temp:e.target.value})}}),s.a.createElement("br",null),s.a.createElement("br",null)))}}]),a}(s.a.Component),ye=Object(R.f)(_e),Se=a(586),we=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var s=e.cookies;return n.state={csrftoken:s.get("csrftoken")},D.a.defaults.headers.common["X-CSRFToken"]=n.state.csrftoken,n}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(R.c,null,s.a.createElement(R.a,{exact:!0,path:"/",component:F}),s.a.createElement(R.a,{path:"/dashboard",component:ye})))}}]),a}(s.a.Component),Ce=Object(Se.a)(we);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=a(110),De=a(587);o.a.render(s.a.createElement(xe.a,null,s.a.createElement(De.a,null,s.a.createElement(Ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[306,1,2]]]);
//# sourceMappingURL=main.d56d8f16.chunk.js.map